(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={data:"CurrentData_data__1p1Z-",number:"CurrentData_number__2y3ck",simbol:"CurrentData_simbol__2YyD8",description:"CurrentData_description__3bbf0",place:"CurrentData_place__e-txx",dot:"CurrentData_dot__1jRiK",location:"CurrentData_location__2TnO_"}},14:function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX",header:"Modal_header__b50LG",content:"Modal_content__3zUnK",actions:"Modal_actions__1JvhX"}},15:function(e,t,a){e.exports={card:"CardForecast_card__12lOz",image:"CardForecast_image__24KuO",temperature:"CardForecast_temperature__3t5dd",min:"CardForecast_min__2K_hB"}},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);a(71);var n=a(18),c=a.n(n),r=a(6),s=a(2),o=a.n(s),i=a(38),l=a.n(i),u=a(65),d=a.n(u),j=a(0),m=function(e){var t=e.city,a=e.onClick;return Object(j.jsxs)("li",{className:d.a.cities,onClick:a,children:[t,Object(j.jsx)("span",{className:"material-icons",children:"chevron_right"})]})},b=a(66),h=a.n(b),_=[{city:"Nueva York",id:1,lat:40.7127281,lng:-74.0060152},{city:"Londres",id:2,lat:51.5073219,lng:-.1276474},{city:"Tokio",id:3,lat:35.6828387,lng:139.7594549}],p=function(e){var t=e.onLocation,a=e.onClose;return Object(j.jsx)("ul",{className:h.a.places,children:_.map((function(e){return Object(j.jsx)(m,{onClick:function(){return function(e){t({city:e.city,lat:e.lat,lng:e.lng}),a()}(e)},city:e.city},e.id)}))})},x=a(13),O=a(14),f=a.n(O),g=function(e){var t=e.onClose;return Object(j.jsx)("div",{className:f.a.backdrop,onClick:t})},C=function(e){var t=e.message,a=e.onConfirm;return Object(j.jsxs)("div",{className:f.a.modal,children:[Object(j.jsx)("header",{className:f.a.header,children:Object(j.jsx)("h2",{children:"Error"})}),Object(j.jsx)("div",{className:f.a.content,children:Object(j.jsx)("p",{children:t})}),Object(j.jsx)("footer",{className:f.a.actions,children:Object(j.jsx)("button",{onClick:a,children:"Okay"})})]})},N=document.getElementById("overlays"),y=function(e){var t=e.message,a=e.onConfirm;return Object(j.jsxs)(j.Fragment,{children:[c.a.createPortal(Object(j.jsx)(g,{onClose:a}),N),c.a.createPortal(Object(j.jsx)(C,{message:t,onConfirm:a}),N)]})},v=a(19),S=a.n(v),w=function(e){var t=e.onLocation,a=e.onClose,n=Object(s.useState)(),c=Object(r.a)(n,2),o=c[0],i=c[1],l=Object(s.useRef)();Object(s.useEffect)((function(){l.current.focus()}),[]);return Object(j.jsxs)(j.Fragment,{children:[o&&Object(j.jsx)(y,{message:o,onConfirm:function(){i(null)}}),Object(j.jsxs)("form",{className:S.a.form,onSubmit:function(e){e.preventDefault();var n=l.current.value;0!==n.trim().length?(t((function(e){return Object(x.a)(Object(x.a)({},e),{},{city:n,searchByCity:!0})})),a(),l.current.value=""):i("Please enter a valid place (non-empty values).")},children:[Object(j.jsxs)("label",{htmlFor:"search",className:S.a.label,children:[Object(j.jsx)("span",{className:"material-icons",children:"search"}),Object(j.jsx)("input",{ref:l,className:S.a.input,id:"search",type:"text",placeholder:"search location",autoComplete:"off"})]}),Object(j.jsx)("button",{type:"submit",className:S.a.button,children:"Search"})]})]})},U=a(39),k=a.n(U),F=function(e){var t=e.close,a=e.onClose,n=e.onLocation;return Object(j.jsxs)("section",{className:k.a["search-screen"],style:{transform:"translateX(".concat(t,"%)")},children:[Object(j.jsx)("button",{className:k.a.button,onClick:a,children:"X"}),Object(j.jsx)(w,{onLocation:n,onClose:a}),Object(j.jsx)(p,{onLocation:n,onClose:a})]})},D=a(40),T=a.n(D),W=a.p+"static/media/Shower.ea1e199a.png",L=function(e){var t=e.img,a=void 0===t?W:t;return Object(j.jsx)("div",{className:T.a.icon,children:Object(j.jsx)("img",{src:a,alt:"current weather",className:T.a.img})})},M=a(67),B=a.n(M),P=function(e){var t=e.children,a=e.type,n=e.className,c=e.onClick;return Object(j.jsx)("button",{type:a||"button",className:"".concat(B.a.button," ").concat(n),onClick:c,children:t})},E=a(26),I=o.a.createContext({temperatureUnit:"celsius",onTemperatureUnitUpdate:function(e){}}),J=function(e){var t=e.children,a=Object(s.useState)("celsius"),n=Object(r.a)(a,2),c=n[0],o=n[1];return Object(j.jsx)(I.Provider,{value:{temperatureUnit:c,onTemperatureUnitUpdate:function(e){o(e)}},children:t})},K=I,R=a(10),X=a.n(R),Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z=function(e){var t=e.temperature,a=e.main,n=e.date,c=e.city,r=new Date(Math.floor(1e3*n)),s=r.toLocaleString("en-US",{month:"short"}),o=r.toLocaleString("en-US",{day:"2-digit"}),i=t,l="\xb0C";return"celsius"!==Object(E.useContext)(K).temperatureUnit&&(i=(1.8*t+32).toFixed(),l="\xb0F"),Object(j.jsxs)("div",{className:X.a.data,children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:X.a.number,children:i}),Object(j.jsx)("span",{className:X.a.simbol,children:l})]}),Object(j.jsx)("p",{className:X.a.description,children:a})]}),Object(j.jsxs)("div",{className:X.a.place,children:[Object(j.jsxs)("p",{children:["Today ",Object(j.jsx)("span",{className:X.a.dot,children:"."})," ","".concat(Y[r.getDay()],", ").concat(o," ").concat(s)]}),Object(j.jsxs)("p",{className:X.a.location,children:[Object(j.jsx)("span",{className:"material-icons",children:"location_on"}),c]})]})]})},q=a(20),H=a.n(q),A=function(e){var t=e.city,a=e.data,n=e.onClose,c=e.onLocation,r="http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png");return Object(j.jsxs)("section",{className:H.a["current-weather"],children:[Object(j.jsxs)("div",{className:H.a.buttons,children:[Object(j.jsx)(P,{className:H.a.search,onClick:n,children:"Search for places"}),Object(j.jsx)(P,{className:H.a.location,onClick:function(){if(!("geolocation"in navigator))throw new Error("No hay soporte de geolocalizaci\xf3n en tu navegador");navigator.geolocation.getCurrentPosition((function(e){c((function(t){return Object(x.a)(Object(x.a)({},t),{},{lat:e.coords.latitude,lng:e.coords.longitude})}))}))},children:Object(j.jsx)("span",{className:"material-icons",children:"my_location"})})]}),Object(j.jsx)(L,{img:r}),Object(j.jsx)(Z,{city:t,temperature:a.temp.toFixed(),main:a.weather[0].main,date:a.dt})]})},G=a(68),Q=a.n(G),V=a(27),z=a.n(V),$=function(e){var t=e.children,a=e.unitContextTemperature,n=e.onUpdateUnit,c=e.unit;return Object(j.jsx)("button",{className:"".concat(z.a.button," ").concat(a===c?z.a.selected:z.a.unselect),onClick:n,children:t})},ee=function(){var e=Object(E.useContext)(K),t=e.temperatureUnit,a=e.onTemperatureUnitUpdate,n=function(e){a(e)};return Object(j.jsxs)("div",{className:Q.a.scales,children:[Object(j.jsx)($,{unit:"celsius",unitContextTemperature:t,onUpdateUnit:function(){return n("celsius")},children:"\xb0C"}),Object(j.jsx)($,{unit:"fahrenheit",unitContextTemperature:t,onUpdateUnit:function(){return n("fahrenheit")},children:"\xb0F"})]})},te=a(15),ae=a.n(te),ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ce=function(e){var t=e.date,a=e.icon,n=e.max,c=e.min,r=new Date(Math.floor(1e3*t)),o=r.toLocaleString("en-US",{month:"short"}),i=r.toLocaleString("en-US",{day:"2-digit"}),l=n,u=c,d="\xb0C";return"celsius"!==Object(s.useContext)(K).temperatureUnit&&(l=(1.8*n+32).toFixed(),u=(1.8*c+32).toFixed(),d="\xb0F"),"Tomorrow"!==t&&(t="".concat(ne[r.getDay()],", ").concat(i," ").concat(o)),Object(j.jsxs)("div",{className:ae.a.card,children:[Object(j.jsx)("h2",{className:ae.a,children:t}),Object(j.jsx)("img",{src:a,alt:"",className:ae.a.image}),Object(j.jsxs)("div",{className:ae.a.temperature,children:[Object(j.jsxs)("p",{children:[l,d]}),Object(j.jsxs)("p",{className:ae.a.min,children:[u,d]})]})]})},re=a(69),se=a.n(re),oe=function(e){for(var t=e.data,a=[],n=1;n<=5;n++)a.push({id:t[n].dt,date:1===n?"Tomorrow":t[n].dt,icon:"http://openweathermap.org/img/wn/".concat(t[n].weather[0].icon,"@2x.png"),max:t[n].temp.max.toFixed(),min:t[n].temp.min.toFixed()});return Object(j.jsx)("section",{className:se.a["next-forecasts"],children:a.map((function(e){return Object(j.jsx)(ce,{id:e.id,date:e.date,icon:e.icon,max:e.max,min:e.min},e.id)}))})},ie=a(7),le=a.n(ie),ue=a(21),de=a.n(ue),je=function(e){var t=e.title,a=e.className,n=e.number,c=e.measure,r=e.children;return Object(j.jsxs)("div",{className:"".concat(de.a.card," ").concat(a),children:[Object(j.jsx)("h3",{className:de.a.title,children:t}),Object(j.jsxs)("p",{className:"",children:[Object(j.jsx)("span",{className:de.a.data,children:n}),Object(j.jsx)("span",{className:de.a.measure,children:c})]}),r]})},me=a(22),be=a.n(me),he=function(e){var t=e.percentage;return Object(j.jsxs)("div",{className:be.a.percentage,children:[Object(j.jsxs)("div",{className:be.a.numbers,children:[Object(j.jsx)("p",{children:"0"}),Object(j.jsx)("p",{children:"50"}),Object(j.jsx)("p",{children:"100"})]}),Object(j.jsx)("div",{className:be.a.graph,children:Object(j.jsx)("div",{style:{width:"".concat(t,"%")},className:be.a.sub_graph})}),Object(j.jsx)("p",{children:"%"})]})},_e=function(e){var t=e.data;return Object(j.jsxs)("div",{className:le.a.data,children:[Object(j.jsx)("h2",{className:le.a.title,children:"Today's Highlights"}),Object(j.jsxs)("div",{className:le.a.grid,children:[Object(j.jsx)(je,{title:"Wind status",number:t.wind_speed.toFixed(),measure:" mph",className:le.a.big,children:Object(j.jsxs)("p",{className:le.a.symbol,children:[Object(j.jsx)("span",{className:"material-icons",children:"play_circle_filled"}),Object(j.jsx)("span",{children:"WSW"})]})}),Object(j.jsx)(je,{title:"Humidity",number:t.humidity,measure:"%",className:le.a.big,children:Object(j.jsx)(he,{percentage:t.humidity})}),Object(j.jsx)(je,{title:"Visibility",number:t.visibility/1e3,measure:" miles",className:le.a.medium}),Object(j.jsx)(je,{title:"Air Pressure",number:t.pressure,measure:" mb",className:le.a.medium})]})]})},pe=a(41),xe=a.n(pe),Oe=function(){return Object(j.jsx)("div",{className:xe.a.container,children:Object(j.jsx)("div",{className:xe.a.spinner})})},fe=a(25),ge=a.n(fe),Ce=a(70),Ne=function(){var e=Object(Ce.a)(ge.a.mark((function e(t){var a,n,c,r,s,o,i;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="object"!==typeof t?"https://api.opencagedata.com/geocode/v1/json?q=".concat(t,"&key=1eedc91add36457b880f5df531979344"):"https://api.opencagedata.com/geocode/v1/json?q=".concat(t.lat,"+").concat(t.lng,"&key=1eedc91add36457b880f5df531979344"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:if(0!==(c=e.sent).results.length){e.next=10;break}throw console.log("errro"),new Error("No hay resultados para ".concat(t));case 10:return r=c.results[0].components.city,s=c.results[0].geometry,o=s.lat,i=s.lng,e.abrupt("return",{city:r,lat:o,lng:i});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.useState)(),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(-100),o=Object(r.a)(c,2),i=o[0],u=o[1],d=Object(s.useState)({city:"Nueva York",lat:40.7127281,lng:-74.0060152,searchByCity:!1}),m=Object(r.a)(d,2),b=m[0],h=m[1],_=function(){u(0===i?-100:0)},p=b.lat,x=b.lng,O=b.city,f=b.searchByCity;Object(s.useEffect)((function(){Ne(!0===f?O:{lat:p,lng:x}).then((function(e){h({city:e.city,lat:e.lat,lng:e.lng,searchByCity:!1})})).catch((function(e){console.error(e),n("no results for your search: ".concat(O))}))}),[p,x,O]);var g=function(e){var t=Object(s.useState)({data:null,loading:!0,error:null}),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(s.useEffect)((function(){c({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){c({loading:!1,error:null,data:e})})).catch((function(){c({data:null,loading:!1,error:"No se pudo cargar la info"})}))}),[e]),n}("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(p,"&lon=").concat(x,"&exclude=hourly&appid=5d96aee95530c282c262bdf38d259718&units=metric")),C=g.data,N=g.error,v=g.loading,S=Object(j.jsx)(Oe,{});return N&&(console.log(N),S=Object(j.jsx)("h1",{children:"ERROOOOOOOR"})),N||v||(S=Object(j.jsxs)("main",{className:l.a.main,children:[a&&Object(j.jsx)(y,{message:a,onConfirm:function(){n(null)}}),Object(j.jsx)(F,{onLocation:h,onClose:_,close:i}),Object(j.jsx)(A,{location:{lat:p,lng:x},onLocation:h,city:b.city,data:C.current,onClose:_}),Object(j.jsxs)("div",{className:l.a.columns,children:[Object(j.jsx)(ee,{}),Object(j.jsx)(oe,{data:C.daily}),Object(j.jsx)(_e,{data:C.current})]})]})),Object(j.jsx)(j.Fragment,{children:S})};a(163);c.a.render(Object(j.jsx)(J,{children:Object(j.jsx)(ye,{})}),document.getElementById("root"))},19:function(e,t,a){e.exports={form:"FormSearch_form__2Lc1H",label:"FormSearch_label__Gfifn",input:"FormSearch_input__1fc7w",button:"FormSearch_button__3IE9L"}},20:function(e,t,a){e.exports={"current-weather":"CurrentWeather_current-weather__1VB7O",buttons:"CurrentWeather_buttons__2RclF",search:"CurrentWeather_search__2MykK",location:"CurrentWeather_location__AOsJY"}},21:function(e,t,a){e.exports={card:"DataCard_card__1BWH7",title:"DataCard_title__3Ywt6",data:"DataCard_data__HZp91",measure:"DataCard_measure__3SMp1"}},22:function(e,t,a){e.exports={percentage:"Percentage_percentage__32bsZ",numbers:"Percentage_numbers__1tS09",graph:"Percentage_graph__3DckU",sub_graph:"Percentage_sub_graph__1PxGT"}},27:function(e,t,a){e.exports={button:"TemperatureUnitButton_button__OejxI",selected:"TemperatureUnitButton_selected__2UTmc",unselect:"TemperatureUnitButton_unselect__1Uk4_"}},38:function(e,t,a){e.exports={main:"App_main__3ZkGI",columns:"App_columns__1QQes"}},39:function(e,t,a){e.exports={"search-screen":"SearchScreen_search-screen__wl44M",button:"SearchScreen_button__12CIf"}},40:function(e,t,a){e.exports={icon:"Icon_icon__dVYp2",img:"Icon_img__3-kZp"}},41:function(e,t,a){e.exports={container:"Spinner_container__1EN68",spinner:"Spinner_spinner__19owv",spin:"Spinner_spin__1pqt8"}},65:function(e,t,a){e.exports={cities:"City_cities__1cZhM"}},66:function(e,t,a){e.exports={places:"DefaultCities_places__9FDqV"}},67:function(e,t,a){e.exports={button:"SearchButton_button__xaJrW"}},68:function(e,t,a){e.exports={scales:"TemperatureUnit_scales__2KJJo"}},69:function(e,t,a){e.exports={"next-forecasts":"NextForecasts_next-forecasts__Qpud1"}},7:function(e,t,a){e.exports={data:"WeatherCurrentData_data__1JPqC",title:"WeatherCurrentData_title__1IaXn",symbol:"WeatherCurrentData_symbol__3POCo",big:"WeatherCurrentData_big__2I1bN",medium:"WeatherCurrentData_medium__3gUlt",grid:"WeatherCurrentData_grid__3Qt1B"}}},[[164,1,2]]]);
//# sourceMappingURL=main.9efaad25.chunk.js.map