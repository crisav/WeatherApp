(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={data:"CurrentData_data__1p1Z-",number:"CurrentData_number__2y3ck",simbol:"CurrentData_simbol__2YyD8",description:"CurrentData_description__3bbf0",place:"CurrentData_place__e-txx",dot:"CurrentData_dot__1jRiK",location:"CurrentData_location__2TnO_"}},13:function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX",header:"Modal_header__b50LG",content:"Modal_content__3zUnK",actions:"Modal_actions__1JvhX"}},14:function(e,t,a){e.exports={card:"CardForecast_card__12lOz",image:"CardForecast_image__24KuO",temperature:"CardForecast_temperature__3t5dd",min:"CardForecast_min__2K_hB"}},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);a(71);var n=a(17),c=a.n(n),r=a(22),s=a(6),i=a(2),o=a.n(i),l=a(38),u=a.n(l),d=a(65),j=a.n(d),m=a(0),b=function(e){var t=e.city,a=e.onClick;return Object(m.jsxs)("li",{className:j.a.cities,onClick:a,children:[t,Object(m.jsx)("span",{className:"material-icons",children:"chevron_right"})]})},h=a(66),_=a.n(h),p=[{city:"Nueva York",id:1,lat:40.7127281,lng:-74.0060152},{city:"Londres",id:2,lat:51.5073219,lng:-.1276474},{city:"Tokio",id:3,lat:35.6828387,lng:139.7594549}],x=function(e){var t=e.onLocation,a=e.onClose;return Object(m.jsx)("ul",{className:_.a.places,children:p.map((function(e){return Object(m.jsx)(b,{onClick:function(){return function(e){t({lat:e.lat,lng:e.lng}),a()}(e)},city:e.city},e.id)}))})},O=a(13),f=a.n(O),g=function(e){var t=e.onClose;return Object(m.jsx)("div",{className:f.a.backdrop,onClick:t})},N=function(e){var t=e.message,a=e.onConfirm;return Object(m.jsxs)("div",{className:f.a.modal,children:[Object(m.jsx)("header",{className:f.a.header,children:Object(m.jsx)("h2",{children:"Error"})}),Object(m.jsx)("div",{className:f.a.content,children:Object(m.jsx)("p",{children:t})}),Object(m.jsx)("footer",{className:f.a.actions,children:Object(m.jsx)("button",{onClick:a,children:"Okay"})})]})},C=document.getElementById("overlays"),v=function(e){var t=e.message,a=e.onConfirm;return Object(m.jsxs)(m.Fragment,{children:[c.a.createPortal(Object(m.jsx)(g,{onClose:a}),C),c.a.createPortal(Object(m.jsx)(N,{message:t,onConfirm:a}),C)]})},y=a(18),S=a.n(y),w=function(e){var t=e.onLocation,a=e.onClose,n=Object(i.useState)(),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(i.useRef)();Object(i.useEffect)((function(){l.current.focus()}),[]);return Object(m.jsxs)(m.Fragment,{children:[r&&Object(m.jsx)(v,{message:r,onConfirm:function(){o(null)}}),Object(m.jsxs)("form",{className:S.a.form,onSubmit:function(e){e.preventDefault();var n=l.current.value;0!==n.trim().length?(t(n),a(),l.current.value=""):o("Please enter a valid place (non-empty values).")},children:[Object(m.jsxs)("label",{htmlFor:"search",className:S.a.label,children:[Object(m.jsx)("span",{className:"material-icons",children:"search"}),Object(m.jsx)("input",{ref:l,className:S.a.input,id:"search",type:"text",placeholder:"search location",autoComplete:"off"})]}),Object(m.jsx)("button",{type:"submit",className:S.a.button,children:"Search"})]})]})},U=a(39),k=a.n(U),F=function(e){var t=e.close,a=e.onClose,n=e.onLocation;return Object(m.jsxs)("section",{className:k.a["search-screen"],style:{transform:"translateX(".concat(t,"%)")},children:[Object(m.jsx)("button",{className:k.a.button,onClick:a,children:"X"}),Object(m.jsx)(w,{onLocation:n,onClose:a}),Object(m.jsx)(x,{onLocation:n,onClose:a})]})},D=a(40),T=a.n(D),W=a.p+"static/media/Shower.ea1e199a.png",L=function(e){var t=e.img,a=void 0===t?W:t;return Object(m.jsx)("div",{className:T.a.icon,children:Object(m.jsx)("img",{src:a,alt:"current weather",className:T.a.img})})},M=a(67),P=a.n(M),B=function(e){var t=e.children,a=e.type,n=e.className,c=e.onClick;return Object(m.jsx)("button",{type:a||"button",className:"".concat(P.a.button," ").concat(n),onClick:c,children:t})},I=a(26),E=o.a.createContext({temperatureUnit:"celsius",onTemperatureUnitUpdate:function(e){}}),J=function(e){var t=e.children,a=Object(i.useState)("celsius"),n=Object(s.a)(a,2),c=n[0],r=n[1];return Object(m.jsx)(E.Provider,{value:{temperatureUnit:c,onTemperatureUnitUpdate:function(e){r(e)}},children:t})},K=E,X=a(10),Y=a.n(X),Z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=function(e){var t=e.temperature,a=e.main,n=e.date,c=e.city,r=new Date(Math.floor(1e3*n)),s=r.toLocaleString("en-US",{month:"short"}),i=r.toLocaleString("en-US",{day:"2-digit"}),o=t,l="\xb0C";return"celsius"!==Object(I.useContext)(K).temperatureUnit&&(o=(1.8*t+32).toFixed(),l="\xb0F"),Object(m.jsxs)("div",{className:Y.a.data,children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:Y.a.number,children:o}),Object(m.jsx)("span",{className:Y.a.simbol,children:l})]}),Object(m.jsx)("p",{className:Y.a.description,children:a})]}),Object(m.jsxs)("div",{className:Y.a.place,children:[Object(m.jsxs)("p",{children:["Today ",Object(m.jsx)("span",{className:Y.a.dot,children:"."})," ","".concat(Z[r.getDay()],", ").concat(i," ").concat(s)]}),Object(m.jsxs)("p",{className:Y.a.location,children:[Object(m.jsx)("span",{className:"material-icons",children:"location_on"}),c]})]})]})},H=a(19),A=a.n(H),G=function(e){var t=e.city,a=e.data,n=e.onClose,c=e.onLocation,r="http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png");return Object(m.jsxs)("section",{className:A.a["current-weather"],children:[Object(m.jsxs)("div",{className:A.a.buttons,children:[Object(m.jsx)(B,{className:A.a.search,onClick:n,children:"Search for places"}),Object(m.jsx)(B,{className:A.a.location,onClick:function(){if(!("geolocation"in navigator))throw new Error("No hay soporte de geolocalizaci\xf3n en tu navegador");navigator.geolocation.getCurrentPosition((function(e){c({lat:e.coords.latitude,lng:e.coords.longitude})}))},children:Object(m.jsx)("span",{className:"material-icons",children:"my_location"})})]}),Object(m.jsx)(L,{img:r}),Object(m.jsx)(q,{city:t,temperature:a.temp.toFixed(),main:a.weather[0].main,date:a.dt})]})},Q=a(68),V=a.n(Q),z=a(27),R=a.n(z),$=function(e){var t=e.children,a=e.unitContextTemperature,n=e.onUpdateUnit,c=e.unit;return Object(m.jsx)("button",{className:"".concat(R.a.button," ").concat(a===c?R.a.selected:R.a.unselect),onClick:n,children:t})},ee=function(){var e=Object(I.useContext)(K),t=e.temperatureUnit,a=e.onTemperatureUnitUpdate,n=function(e){a(e)};return Object(m.jsxs)("div",{className:V.a.scales,children:[Object(m.jsx)($,{unit:"celsius",unitContextTemperature:t,onUpdateUnit:function(){return n("celsius")},children:"\xb0C"}),Object(m.jsx)($,{unit:"fahrenheit",unitContextTemperature:t,onUpdateUnit:function(){return n("fahrenheit")},children:"\xb0F"})]})},te=a(14),ae=a.n(te),ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ce=function(e){var t=e.date,a=e.icon,n=e.max,c=e.min,r=new Date(Math.floor(1e3*t)),s=r.toLocaleString("en-US",{month:"short"}),o=r.toLocaleString("en-US",{day:"2-digit"}),l=n,u=c,d="\xb0C";return"celsius"!==Object(i.useContext)(K).temperatureUnit&&(l=(1.8*n+32).toFixed(),u=(1.8*c+32).toFixed(),d="\xb0F"),"Tomorrow"!==t&&(t="".concat(ne[r.getDay()],", ").concat(o," ").concat(s)),Object(m.jsxs)("div",{className:ae.a.card,children:[Object(m.jsx)("h2",{className:ae.a,children:t}),Object(m.jsx)("img",{src:a,alt:"",className:ae.a.image}),Object(m.jsxs)("div",{className:ae.a.temperature,children:[Object(m.jsxs)("p",{children:[l,d]}),Object(m.jsxs)("p",{className:ae.a.min,children:[u,d]})]})]})},re=a(69),se=a.n(re),ie=function(e){for(var t=e.data,a=[],n=1;n<=5;n++)a.push({id:t[n].dt,date:1===n?"Tomorrow":t[n].dt,icon:"http://openweathermap.org/img/wn/".concat(t[n].weather[0].icon,"@2x.png"),max:t[n].temp.max.toFixed(),min:t[n].temp.min.toFixed()});return Object(m.jsx)("section",{className:se.a["next-forecasts"],children:a.map((function(e){return Object(m.jsx)(ce,{id:e.id,date:e.date,icon:e.icon,max:e.max,min:e.min},e.id)}))})},oe=a(7),le=a.n(oe),ue=a(20),de=a.n(ue),je=function(e){var t=e.title,a=e.className,n=e.number,c=e.measure,r=e.children;return Object(m.jsxs)("div",{className:"".concat(de.a.card," ").concat(a),children:[Object(m.jsx)("h3",{className:de.a.title,children:t}),Object(m.jsxs)("p",{className:"",children:[Object(m.jsx)("span",{className:de.a.data,children:n}),Object(m.jsx)("span",{className:de.a.measure,children:c})]}),r]})},me=a(21),be=a.n(me),he=function(e){var t=e.percentage;return Object(m.jsxs)("div",{className:be.a.percentage,children:[Object(m.jsxs)("div",{className:be.a.numbers,children:[Object(m.jsx)("p",{children:"0"}),Object(m.jsx)("p",{children:"50"}),Object(m.jsx)("p",{children:"100"})]}),Object(m.jsx)("div",{className:be.a.graph,children:Object(m.jsx)("div",{style:{width:"".concat(t,"%")},className:be.a.sub_graph})}),Object(m.jsx)("p",{children:"%"})]})},_e=function(e){var t=e.data;return Object(m.jsxs)("div",{className:le.a.data,children:[Object(m.jsx)("h2",{className:le.a.title,children:"Today's Highlights"}),Object(m.jsxs)("div",{className:le.a.grid,children:[Object(m.jsx)(je,{title:"Wind status",number:t.wind_speed.toFixed(),measure:" mph",className:le.a.big,children:Object(m.jsxs)("p",{className:le.a.symbol,children:[Object(m.jsx)("span",{className:"material-icons",children:"play_circle_filled"}),Object(m.jsx)("span",{children:"WSW"})]})}),Object(m.jsx)(je,{title:"Humidity",number:t.humidity,measure:"%",className:le.a.big,children:Object(m.jsx)(he,{percentage:t.humidity})}),Object(m.jsx)(je,{title:"Visibility",number:t.visibility/1e3,measure:" miles",className:le.a.medium}),Object(m.jsx)(je,{title:"Air Pressure",number:t.pressure,measure:" mb",className:le.a.medium})]})]})},pe=a(41),xe=a.n(pe),Oe=function(){return Object(m.jsx)("div",{className:xe.a.container,children:Object(m.jsx)("div",{className:xe.a.spinner})})},fe=a(25),ge=a.n(fe),Ne=a(70),Ce=function(){var e=Object(Ne.a)(ge.a.mark((function e(t){var a,n,c,r,s,i,o,l,u,d,j,m;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="object"!==typeof t?"https://api.opencagedata.com/geocode/v1/json?q=".concat(t,"&key=1eedc91add36457b880f5df531979344"):"https://api.opencagedata.com/geocode/v1/json?q=".concat(t.lat,"+").concat(t.lng,"&key=1eedc91add36457b880f5df531979344"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:if(0!==(c=e.sent).results.length){e.next=10;break}throw console.log("error"),new Error("No hay resultados para ".concat(t));case 10:return r=c.results[0].geometry,s=r.lat,i=r.lng,o=c.results[0].components.city,l="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(s,"&lon=").concat(i,"&exclude=hourly&appid=5d96aee95530c282c262bdf38d259718&units=metric"),e.next=15,fetch(l);case 15:return u=e.sent,e.next=18,u.json();case 18:return d=e.sent,j=d.current,m=d.daily,e.abrupt("return",{city:o,current:j,daily:m});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.useState)({data:null,loading:!0}),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(),o=Object(s.a)(c,2),l=o[0],d=o[1],j=Object(i.useState)(-100),b=Object(s.a)(j,2),h=b[0],_=b[1],p=Object(i.useState)("Nueva York"),x=Object(s.a)(p,2),O=x[0],f=x[1],g=a.data,N=a.loading,C=function(){_(0===h?-100:0)};Object(i.useEffect)((function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!0})})),Ce(O).then((function(e){n({loading:!1,data:e})})).catch((function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{loading:!1})})),d("no results for your search: ".concat(O))}))}),[O]);var y=Object(m.jsx)(Oe,{});return N||(y=Object(m.jsxs)("main",{className:u.a.main,children:[l&&Object(m.jsx)(v,{message:l,onConfirm:function(){d(null)}}),Object(m.jsx)(F,{onLocation:f,onClose:C,close:h}),Object(m.jsx)(G,{onLocation:f,city:g.city,data:g.current,onClose:C}),Object(m.jsxs)("div",{className:u.a.columns,children:[Object(m.jsx)(ee,{}),Object(m.jsx)(ie,{data:g.daily}),Object(m.jsx)(_e,{data:g.current})]})]})),Object(m.jsx)(m.Fragment,{children:y})};a(163);c.a.render(Object(m.jsx)(J,{children:Object(m.jsx)(ve,{})}),document.getElementById("root"))},18:function(e,t,a){e.exports={form:"FormSearch_form__2Lc1H",label:"FormSearch_label__Gfifn",input:"FormSearch_input__1fc7w",button:"FormSearch_button__3IE9L"}},19:function(e,t,a){e.exports={"current-weather":"CurrentWeather_current-weather__1VB7O",buttons:"CurrentWeather_buttons__2RclF",search:"CurrentWeather_search__2MykK",location:"CurrentWeather_location__AOsJY"}},20:function(e,t,a){e.exports={card:"DataCard_card__1BWH7",title:"DataCard_title__3Ywt6",data:"DataCard_data__HZp91",measure:"DataCard_measure__3SMp1"}},21:function(e,t,a){e.exports={percentage:"Percentage_percentage__32bsZ",numbers:"Percentage_numbers__1tS09",graph:"Percentage_graph__3DckU",sub_graph:"Percentage_sub_graph__1PxGT"}},27:function(e,t,a){e.exports={button:"TemperatureUnitButton_button__OejxI",selected:"TemperatureUnitButton_selected__2UTmc",unselect:"TemperatureUnitButton_unselect__1Uk4_"}},38:function(e,t,a){e.exports={main:"App_main__3ZkGI",columns:"App_columns__1QQes"}},39:function(e,t,a){e.exports={"search-screen":"SearchScreen_search-screen__wl44M",button:"SearchScreen_button__12CIf"}},40:function(e,t,a){e.exports={icon:"Icon_icon__dVYp2",img:"Icon_img__3-kZp"}},41:function(e,t,a){e.exports={container:"Spinner_container__1EN68",spinner:"Spinner_spinner__19owv",spin:"Spinner_spin__1pqt8"}},65:function(e,t,a){e.exports={cities:"City_cities__1cZhM"}},66:function(e,t,a){e.exports={places:"DefaultCities_places__9FDqV"}},67:function(e,t,a){e.exports={button:"SearchButton_button__xaJrW"}},68:function(e,t,a){e.exports={scales:"TemperatureUnit_scales__2KJJo"}},69:function(e,t,a){e.exports={"next-forecasts":"NextForecasts_next-forecasts__Qpud1"}},7:function(e,t,a){e.exports={data:"WeatherCurrentData_data__1JPqC",title:"WeatherCurrentData_title__1IaXn",symbol:"WeatherCurrentData_symbol__3POCo",big:"WeatherCurrentData_big__2I1bN",medium:"WeatherCurrentData_medium__3gUlt",grid:"WeatherCurrentData_grid__3Qt1B"}}},[[164,1,2]]]);
//# sourceMappingURL=main.018a53be.chunk.js.map